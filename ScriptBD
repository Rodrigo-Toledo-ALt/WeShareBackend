CREATE TABLE usuario (

    id SERIAL PRIMARY KEY,

    nombre VARCHAR(255) NOT NULL,

    correo VARCHAR(255) UNIQUE NOT NULL,

    contrase√±a VARCHAR(255) NOT NULL

);





CREATE TABLE grupo (

    id SERIAL PRIMARY KEY,

   	nombre VARCHAR(255) NOT NULL,

    num_integrantes INT NOT NULL,

    fecha_grupo DATE NOT NULL

);





CREATE TABLE pago (

    id SERIAL PRIMARY KEY,

    importe DECIMAL(10, 2) NOT NULL,

    descripcion VARCHAR(255),

    id_usuario INT NOT NULL,

    id_grupo INT NOT NULL,

    fecha_gasto DATE NOT NULL,

    FOREIGN KEY (id_usuario) REFERENCES usuario(id) ON DELETE CASCADE,

    FOREIGN KEY (id_grupo) REFERENCES grupo(id) ON DELETE CASCADE

);



CREATE TABLE grupo_usuario (

    id_usuario INT NOT NULL,

    id_grupo INT NOT NULL,

    PRIMARY KEY (id_usuario, id_grupo),

    FOREIGN KEY (id_usuario) REFERENCES usuario(id) ON DELETE CASCADE,

    FOREIGN KEY (id_grupo) REFERENCES grupo(id) ON DELETE CASCADE

);

CREATE TABLE amigo (
    usuario_id INT NOT NULL,
    amigo_id INT NOT NULL,
    PRIMARY KEY (usuario_id, amigo_id),
    FOREIGN KEY (usuario_id) REFERENCES usuario(id),
    FOREIGN KEY (amigo_id) REFERENCES usuario(id)
);

// INSERTS

INSERT INTO amigos (usuario_id, amigo_id) VALUES
    (1, 2), (2, 1),
    (3, 4), (4, 3),
    (5, 6), (6, 5),
    (7, 8), (8, 7),
    (9, 10), (10, 9),
    (12, 13), (13, 12),
    (14, 15), (15, 14),
    (16, 17), (17, 16),
    (18, 19), (19, 18),
    (20, 21), (21, 20);